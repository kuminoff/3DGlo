(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),a=document.getElementById("timer-minutes"),l=document.getElementById("timer-seconds");let n;document.getElementById("timer-days");const r=()=>{let e=(()=>{let e=(new Date("24 january 2023").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/3600),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();return t.textContent=1===e.hours.toString().length?"0"+e.hours+"ч":e.hours+"ч",a.textContent=1===e.minutes.toString().length?"0"+e.minutes+"мин":e.minutes+"мин",l.textContent=1===e.seconds.toString().length?"0"+e.seconds+"сек":e.seconds+"сек",e.timeRemaining};r()>0?n=setInterval(r,1e3):(clearInterval(n),t.textContent="00",a.textContent="00",l.textContent="00")})(),(()=>{const e=document.querySelector("menu"),t=e=>{e.preventDefault();const t=(void 0).getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})},a=()=>{e.classList.toggle("active-menu")};document.addEventListener("click",(l=>{switch(!0){case!!l.target.closest(".close-btn"):case!!l.target.closest(".menu"):a();break;case!!l.target.matches("menu>ul>li>a"):a(),t(l);break;case!!l.target.closest("main>a"):t(l),e.classList.contains("active-menu")&&a();break;case!l.target.closest("menu"):e.classList.contains("active-menu")&&a()}}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup");t.style.transform="translateY(100%)";let a=50;e.forEach((e=>e.addEventListener("click",(()=>{t.style.display="block",screen.width>768?l():t.style.transform=""}))));const l=()=>{a>0?(a--,requestAnimationFrame(l),t.style.transform=`translateY(${3*-a}%)`):cancelAnimationFrame(modalHandle)};t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(a=50,t.style.transform="translateY(100%)",t.style.display="none")}))})(),document.querySelectorAll("input.calc-item").forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d]/,"")}))})),(()=>{const e=document.querySelectorAll("form input[type=text], form input[placeholder='Ваше сообщение']"),t=document.querySelectorAll("form input[type=email]"),a=document.querySelectorAll("form input[type=tel]");e.forEach((e=>{e.addEventListener("input",(()=>{console.log("Сообщение"),e.value=e.value.replace(/[^а-яА-Я\s\-]+/g,"")}))})),t.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^a-zA-Z\d\@\-\_\.\!\~\*\']+/g,"")}))})),a.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d\\(\\)\-]+/g,"")}))})),e.forEach((e=>{e.addEventListener("blur",(()=>{console.log("Сообщение"),e.value=e.value.replace(/[\s]+/g," "),e.value=e.value.replace(/[\-]+/g,"-"),e.value=e.value.replace(/[\s\-]+/g,"-"),e.value=e.value.replace(/^[\s\-]+/g,""),e.value=e.value.replace(/[\s\-]+$/g,""),e.value=e.value.replace(/( |^)[а-яА-Я]/g,(function(e){return e.toUpperCase()}))}))})),t.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/[\-]+/g,"-"),e.value=e.value.replace(/[\s\-]+/g,"-"),e.value=e.value.replace(/^[\s\-]+/g,""),e.value=e.value.replace(/[\s\-]+$/g,"")}))})),a.forEach((e=>{e.addEventListener("blur",(()=>{e.value=e.value.replace(/[\-]+/g,"-"),e.value=e.value.replace(/^[\s\-]+[\s\-]+/g,""),e.value=e.value.replace(/[\s\-]+$/g,""),e.value=e.value.replace(/[\s\-]+/g,"-")}))}))})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelector(".service-header"),a=document.querySelectorAll(".service-header-tab");t.addEventListener("click",(t=>{if(t.target.closest(".service-header-tab")){const l=t.target.closest(".service-header-tab");a.forEach(((t,a)=>{t===l?(t.classList.add("active"),e[a].classList.remove("d-none")):(t.classList.remove("active"),e[a].classList.add("d-none"))}))}}))})(),((e,t,a,l,n,r="portfolio-item-active",o="dot-active")=>{const c=document.querySelector(`.${e}`),s=document.querySelectorAll(`.${t}`),u=document.querySelector(`.${a}`),i=[];if(!(e&&t&&a&&l&&n))return;let d,m=0;const v=(e,t,a)=>{e[t].classList.remove(a)},g=(e,t,a)=>{e[t].classList.add(a)},p=()=>{v(s,m,r),v(i,m,o),m++,m===s.length&&(m=0),g(s,m,r),g(i,m,o)},h=e=>{d=setInterval(p,e)};c.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${l}, .${n}`)&&(v(s,m,r),v(i,m,o),e.target.matches("#arrow-right")?m++:e.target.matches("#arrow-left")?m--:e.target.matches(`.${l}`)&&(m=i.indexOf(e.target)),m===s.length&&(m=0),m<0&&(m=s.length-1),g(s,m,r),g(i,m,o))})),c.addEventListener("mouseenter",(e=>{e.target.matches(`.${l}, .${n}`)&&clearInterval(d)}),!0),c.addEventListener("mouseleave",(e=>{e.target.matches(`.${l}, .${n}`)&&h(2e3)}),!0),(()=>{for(let e=0;e<s.length;e++){const t=document.createElement("li");t.classList.add(l),0===e&&t.classList.add(o),i.push(t),u.append(t)}})(),h(2e3)})("portfolio-content","portfolio-item","portfolio-dots","dot","portfolio-btn","portfolio-item-active","dot-active"),((e=100)=>{const t=document.querySelector(".calc-block"),a=document.querySelector(".calc-type"),l=document.querySelector(".calc-square"),n=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),o=document.getElementById("total");let c;t.addEventListener("input",(()=>{clearInterval(c),(()=>{const t=+a.options[a.selectedIndex].value,s=+l.value;let u=1+.1*+n.value;4==+n.value&&(u=1.4);const i=r.value?+r.value>=10?1:+r.value>5?1.5:2:1;let d,m=0,v=o.textContent;t&&s?(m=Math.round(e*+t*+s*+u*+i),console.log(e,+t,s,u,i,m),d=0,c=setInterval((()=>{m>+o.textContent?o.textContent=+v+d:m<+o.textContent?o.textContent=+v-d:+o.textContent===m&&clearInterval(c),d+=10**(Math.abs(m-o.textContent).toString().length-1)}),100)):o.textContent=m})()}))})(100)})();